
Зависимости для работы - jq и yarn (ставятся в теле скрипта через epm).

Чтобы начать работу, нужно склонировать репозиторий и запустить ./init.sh - это
создаст пустой registry.json.

В registry.json хранятся библиотеки, которые мы поддерживаем, с указанием
версий и файлов, которые следует отдавать (относительно корня библиотеки, т. е.
относительно node_modules/lib). Этот файл нужен для того, чтобы можно было
запускать обновление, не указывая повторно пути к файлам, которые следует
отдавать. Ещё он может служить списком библиотек, которые мы поддерживаем -
достаточно перенести существующий файл в чистый только что склонированный
репозиторий и запустить update.sh - все перечисленные в файле библиотеки будут
созданы. Пример файла есть в репозитории (registry.example.json)

Чтобы добавить библиотеку, нужно вызвать add.sh, например:
 ./add.sh jquery latest dist/jquery.js dist/jquery.min.js
или
 ./add.sh jquery 1.7 dist/jquery.js dist/jquery.min.js

Последние два аргумента - пути к обычной и минифицированной версиям
соответственно.

Эта команда добавит jQuery самой последней версии. Что изменится:
 - В registry.json добавится библиотека jquery и версия latest (если их ещё
нет);
 - Создастся (если ещё не существует) каталог packages/jquery/latest, а в нём
package.json с "jquery": "*" в зависимостях;
 - В каталоге будет выполнен yarn upgrade;
 - Будет создан каталог public/jquery/latest, в нём хардлинки jquery.min.js и
jquery.js на сжатую версию, и jquery.development.js на несжатую.

Обновить всё можно через ./update.sh. Если запустить без аргументов, будут
обновлены или созданы все библиотеки из registry.json. Если с аргументами
(библиотека и версия), то будет обновлена только указанная библиотека/версия
(при условии наличия в registry).

Каталоги packages и public можно сделать симлинками на другие каталоги, если будет нужда
расположить их вне репозитория.
